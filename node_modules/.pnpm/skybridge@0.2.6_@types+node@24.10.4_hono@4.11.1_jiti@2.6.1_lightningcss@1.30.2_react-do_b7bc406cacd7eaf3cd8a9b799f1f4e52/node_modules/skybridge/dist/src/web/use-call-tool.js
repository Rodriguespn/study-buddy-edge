import { useState } from "react";
export const useCallTool = (name) => {
    const [{ status, data, error }, setCallToolState] = useState({ status: "idle", data: undefined, error: undefined });
    const callToolAsync = async (toolArgs) => {
        setCallToolState({ status: "pending", data: undefined, error: undefined });
        try {
            const data = await window.openai.callTool(name, toolArgs);
            setCallToolState({ status: "success", data, error: undefined });
            return data;
        }
        catch (error) {
            setCallToolState({ status: "error", data: undefined, error });
            throw error;
        }
    };
    const callTool = (toolArgs, sideEffects) => {
        callToolAsync(toolArgs)
            .then((data) => {
            if (sideEffects?.onSuccess) {
                sideEffects.onSuccess(data, toolArgs);
            }
        })
            .catch((error) => {
            if (sideEffects?.onError) {
                sideEffects.onError(error, toolArgs);
            }
        });
    };
    const callToolState = {
        status,
        data,
        error,
        isIdle: status === "idle",
        isPending: status === "pending",
        isSuccess: status === "success",
        isError: status === "error",
    };
    return {
        ...callToolState,
        callTool,
        callToolAsync,
    };
};
//# sourceMappingURL=use-call-tool.js.map